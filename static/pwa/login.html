<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>로그인</title>
  <meta
    http-equiv="Content-Security-Policy"
    content="default-src 'self'; script-src 'self'; style-src 'self'; img-src 'self' data: https:; connect-src 'self'; object-src 'none'; base-uri 'self'; frame-ancestors 'self';"
  />
  <meta name="theme-color" content="#eef1f7" />
  <link rel="manifest" href="/pwa/manifest.webmanifest?v=2" />
  <link rel="stylesheet" href="/pwa/login.css?v=20260215b" />
  <link rel="stylesheet" href="/pwa/light_theme.css?v=20260220a" />
</head>
<body>
  <main class="wrap">
    <section class="card">
      <h1>아파트 시설관리 로그인</h1>
      <p class="sub">일반 직원/관리자 계정으로 접속합니다.</p>
      <label class="field">
        <span>아이디</span>
        <input id="loginId" type="text" autocomplete="username" placeholder="예: admin01" />
      </label>
      <label class="field">
        <span>비밀번호</span>
        <input id="password" type="password" autocomplete="current-password" placeholder="8자 이상" />
      </label>
      <div class="actions">
        <button id="btnLogin" class="btn primary" type="button">로그인</button>
      </div>
      <div id="loginMsg" class="msg"></div>
    </section>

    <section class="card">
      <h2>로그인 없이 보기</h2>
      <p class="sub">로그인 없이도 바로 메인 화면으로 접속하거나, 공지/FAQ를 확인할 수 있습니다.</p>
      <div class="actions">
        <button id="btnGuestAccess" class="btn primary" type="button">로그인 없이 바로 사용</button>
        <a class="btn" href="/pwa/public.html">공지/FAQ/안내</a>
      </div>
    </section>

    <section id="signupCard" class="card">
      <h2>신규 사용자 가입</h2>
      <p id="signupCardSub" class="sub">희망 아이디 입력 후 휴대폰 인증과 비밀번호 설정을 완료하면 가입됩니다.</p>
      <div class="grid2">
        <label class="field">
          <span>이름</span>
          <input id="suName" type="text" placeholder="예: 홍길동" />
        </label>
        <label class="field">
          <span>휴대폰번호</span>
          <input id="suPhone" type="text" placeholder="예: 010-1234-5678" />
        </label>
        <label class="field">
          <span>희망 아이디</span>
          <div class="inline-input">
            <input id="suLoginId" type="text" placeholder="소문자/숫자/_ 8~25자 (예: hong_1234)" />
            <button id="btnCheckLoginId" class="btn" type="button">중복확인</button>
          </div>
          <div id="suLoginIdMsg" class="msg inline-msg"></div>
        </label>
        <label class="field">
          <span>단지명</span>
          <input id="suSiteName" type="text" placeholder="예: 아이유파크" />
        </label>
        <label class="field">
          <span>사용자분류</span>
          <select id="suRole">
            <option value="">선택</option>
            <option value="최고/운영관리자">최고/운영관리자</option>
            <option value="단지대표자">단지대표자</option>
            <option value="사용자">사용자</option>
            <option value="보안/경비">보안/경비</option>
            <option value="입주민">입주민</option>
            <option value="입대의">입대의</option>
          </select>
        </label>
        <label class="field">
          <span>동/호(입주민 필수)</span>
          <input id="suUnitLabel" type="text" placeholder="예: 101-1203 또는 101동 1203호" />
        </label>
      </div>
      <label class="field">
        <span>주소</span>
        <input id="suAddress" type="text" placeholder="예: 서울시 강남구 ... " />
      </label>
      <div class="grid2">
        <label class="field">
          <span>관리소 전화번호</span>
          <input id="suOfficePhone" type="text" placeholder="예: 02-1234-5678" />
        </label>
        <label class="field">
          <span>관리소 팩스번호</span>
          <input id="suOfficeFax" type="text" placeholder="예: 02-1234-9876" />
        </label>
      </div>
      <div class="actions">
        <button id="btnReqCode" class="btn" type="button">인증번호 받기</button>
      </div>
      <div class="grid2">
        <label class="field">
          <span>인증번호(6자리)</span>
          <input id="suCode" type="text" placeholder="문자로 받은 인증번호" />
        </label>
      </div>
      <div class="actions">
        <button id="btnVerifySignup" class="btn primary" type="button">인증확인</button>
      </div>
      <div id="signupPasswordPanel" class="assist hidden">
        <div class="assist-title">비밀번호 설정</div>
        <p id="suPwPolicy" class="sub assist-sub">10자 이상, 문자 종류 조합, 아이디/휴대폰번호 미포함, 연속문자 금지</p>
        <div class="grid2">
          <label class="field">
            <span>비밀번호</span>
            <input id="suPassword" type="password" placeholder="정책을 만족하는 비밀번호" />
          </label>
          <label class="field">
            <span>비밀번호 확인</span>
            <input id="suPassword2" type="password" placeholder="비밀번호 재입력" />
          </label>
        </div>
        <div id="suPwStrength" class="line2">강도: -</div>
        <div class="actions">
          <button id="btnCompleteSignup" class="btn primary" type="button">비밀번호 설정 후 가입완료</button>
        </div>
        <div id="signupCompleteMsg" class="msg"></div>
      </div>
      <div id="signupMsg" class="msg"></div>
      <div id="signupResult" class="result hidden"></div>
      <div id="siteRegAssist" class="assist hidden">
        <div class="assist-title">단지코드 미등록 간편등록</div>
        <p class="sub assist-sub">요청을 접수하면 최고관리자가 사용자관리의 단지코드 요청함에서 등록 처리할 수 있습니다.</p>
        <div class="grid2">
          <label class="field">
            <span>단지명</span>
            <input id="srSiteName" type="text" placeholder="예: 아이유파크" />
          </label>
          <label class="field">
            <span>희망 단지코드(선택)</span>
            <input id="srSiteCode" type="text" maxlength="12" placeholder="예: APT00001 또는 APT-00001" />
          </label>
        </div>
        <div class="actions">
          <button id="btnPrepareSiteReg" class="btn primary" type="button">최고관리자 간편등록 예약</button>
        </div>
        <div id="siteRegMsg" class="msg"></div>
      </div>
    </section>

    <section id="bootstrapCard" class="card hidden">
      <h2>최초 관리자 설정</h2>
      <p class="sub">관리자 계정이 없어서 1회 초기 설정이 필요합니다.</p>
      <label class="field">
        <span>관리자 아이디</span>
        <input id="bsLoginId" type="text" placeholder="예: admin01" />
      </label>
      <label class="field">
        <span>이름</span>
        <input id="bsName" type="text" placeholder="예: 운영관리자" />
      </label>
      <label class="field">
        <span>사용자분류</span>
        <input id="bsRole" type="text" value="최고/운영관리자" />
      </label>
      <label class="field">
        <span>비밀번호</span>
        <input id="bsPassword" type="password" placeholder="8자 이상" />
      </label>
      <label class="field">
        <span>비밀번호 확인</span>
        <input id="bsPassword2" type="password" placeholder="비밀번호 재입력" />
      </label>
      <div class="actions">
        <button id="btnBootstrap" class="btn primary" type="button">초기 관리자 생성</button>
      </div>
      <div id="bootstrapMsg" class="msg"></div>
    </section>
  </main>

  <script src="/pwa/auth.js?v=20260218a"></script>
  <script src="/pwa/login.js?v=20260221a"></script>
</body>
</html>


